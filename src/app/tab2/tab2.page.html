<ion-header>
  <ion-toolbar>
    <ion-title> Selección de ubicación </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
<form [formGroup]="my_form">
  <ion-list>
    <ion-item *ngIf="selected_option_index >= 0">
      <ion-label>País</ion-label>
      <ion-select (ionChange)="onCountryChange($event); checkFormValidity()" formControlName="country_form">
        <ion-select-option *ngFor="let country of countries" [value]="country" >
          {{ country.name }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item *ngIf="selected_option_index >= 1">
      <ion-label>Estado</ion-label>
      <ion-select (ionChange)="onStateChange($event); checkFormValidity()" formControlName="state_form">
        <ion-select-option *ngFor="let state of states" [value]="state" >
          {{ state.name }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item *ngIf="selected_option_index >= 2">
      <ion-label>Municipio</ion-label>
      <ion-select (ionChange)="onMunicipalityChange($event); checkFormValidity()" formControlName="municipality_form">
        <ion-select-option
          *ngFor="let municipality of municipalities"
          [value]="municipality"
          
        >
          {{ municipality.name }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item *ngIf="selected_option_index >= 3">
      <ion-label>Colonia</ion-label>
      <ion-select (ionChange)="onColonyChange($event); checkFormValidity()" formControlName="colony_form">
        <ion-select-option *ngFor="let colony of colonies" [value]="colony"
        >
          {{ colony.name }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item *ngIf="selected_option_index >= 4"
      >
      <ion-label>Ciudad</ion-label>
      <ion-list>
        <ion-item *ngFor="let city of cities" >
          {{ city.city }}
        </ion-item>
      </ion-list>
    </ion-item>
    <ion-button type="submit" [disabled]="is_button_disabled" color="blue" expand="block">Comprobar</ion-button>


  </ion-list>
</form>
</ion-content>
